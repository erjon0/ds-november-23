<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Travel Assistant</title>
    <link rel="stylesheet" href="destinacions.css">
</head>
<body>
    <header>
        <h1>AI-Powered Travel Assistant</h1>
    </header>
    <main>
        <section class="hero">
            <h2>Explore Your Next Destination</h2>
            <p>Get AI-powered insights about any country you wish to visit!</p>
        </section>
        <section>
            <input type="text" id="countrySearch" onkeyup="searchCountry()" placeholder="Search for countries...">
            <ul id="destinationList"></ul>
        </section>
        <section id="country-info" style="display: none;">
            <h2>Country Information</h2>
            <p id="info"></p>
        </section>
    </main>
    <footer>
        <p>Powered by AI</p>
    </footer>
    <div id="destinationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="destinationTitle"></h2>
            <p id="destinationDescription"></p>
        </div>
    </div>
    <script>
     async function fetchCountries() {
    const response = await fetch('https://restcountries.com/v3.1/all');
    const countries = await response.json();
    const destinationList = document.getElementById('destinationList');

    countries.forEach(country => {
        const listItem = document.createElement('li');
        listItem.innerHTML = `
            <a href="javascript:void(0)" onclick="showDestinationInfo('${country.name.common}')">
                ${country.name.common}
            </a>
        `;
        destinationList.appendChild(listItem);
    });
}

async function getCountryInfo(countryName) {
    try {
        const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}`);
        const data = await response.json();
        return data[0];
    } catch (error) {
        console.error('Error fetching country info:', error);
        return null;
    }
}

async function getCities(countryName) {
    // Placeholder function to simulate city fetch
    // Replace with actual API if available
    return ['City1', 'City2', 'City3'];
}

async function showDestinationInfo(countryName) {
    const countryData = await getCountryInfo(countryName);
    const cities = await getCities(countryName);
    
    if (countryData) {
        document.getElementById("destinationTitle").textContent = countryName;
        document.getElementById("destinationDescription").textContent = 
            `Discover sustainable travel opportunities in ${countryName}. Explore eco-friendly practices and natural beauty.
            \n\nCapital: ${countryData.capital[0]}
            \nPopulation: ${countryData.population.toLocaleString()}
            \nLanguage(s): ${Object.values(countryData.languages).join(', ')}
            \nCurrency: ${Object.values(countryData.currencies)[0].name} (${Object.values(countryData.currencies)[0].symbol})`;
        document.getElementById("cityList").innerHTML = cities.map(city => `<li>${city}</li>`).join('');
        document.getElementById("destinationModal").style.display = "block";
    } else {
        alert('Error fetching data. Please try again.');
    }
}

function closeModal() {
    document.getElementById("destinationModal").style.display = "none";
}

function searchCountry() {
    const input = document.getElementById("countrySearch").value.toLowerCase();
    const items = document.querySelectorAll("#destinationList li");
    items.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(input) ? "" : "none";
    });
}

window.onload = fetchCountries;

    </script>
</body>
</html>
